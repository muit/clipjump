Utyl={author:"muitxer",repo:"http://github.com/muit/utyl",version:"0.3.4"};String.prototype.startsWith=function(a){return this.slice(0,a.length)==a};String.prototype.endsWith=function(a){return-1!==this.indexOf(a,this.length-a.length)};String.prototype.contains=function(a){return-1!=this.indexOf(a)};String.randomString=function(a){a=a||8;return Math.random().toString(36).substring(a)};Object.keys=function(a){var b=[],c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b};
Object.key=function(a,b){var c=[],d;for(d in a)a[d]==b&&c.push(d);return c};Array.prototype.first=function(){return this[0]};Array.prototype.last=function(){return this[this.length-1]};Array.prototype.remove=function(a){a=this.indexOf(a);return 0<=a?this.splice(a,1)[0]:void 0};Array.prototype.removeByIndex=function(a){return 0<=a?this.splice(a,1)[0]:void 0};
Array.prototype.each=function(a){if("function"!=typeof a)throw Error("The callback provided is not a function.");for(var b=0,c=this.length;b<c;b++)a(this[b])};Array.prototype.getNextFlip=function(){this.push(this.shift());return this[0]};Array.prototype.getLastFlip=function(){this.unshift(this.pop());return this[0]};Array.prototype.getByName=function(a){return this.filter(function(b){return b.name==a}).first()};Trigger=function(){};Trigger.prototype.get=function(){return this.s?!1:this.s=!0};
Trigger.prototype.reset=function(){this.s=void 0};Vector2=function(a,b){a instanceof Vector2?(this.x=a.x,this.y=a.y):(this.x=a,this.y=b)};Vector2.prototype.x=null;Vector2.prototype.y=null;Vector2.prototype.distance=function(a){return Vector2.distance(this,a)};Vector2.distance=function(a,b){return Math.sqrt(Math.pow(a.x+b.x,2)+Math.pow(a.y+b.y,2))};Vector2.dot=function(a,b){return a.x*b.x+a.y*b.y};
Vector3=function(a,b,c){a instanceof Vector3?(this.x=a.x,this.y=a.y,this.z=a.z):(this.x=a,this.y=b,this.z=c)};Vector3.prototype.x=null;Vector3.prototype.y=null;Vector3.prototype.z=null;Vector3.prototype.distance=function(a){return Vector3.distance(this,a)};Vector3.distance=function(a,b){return Math.sqrt(Math.pow(a.x+b.x,2)+Math.pow(a.y+b.y,2)+Math.pow(a.z+b.z,2))};Vector3.dot=function(a,b){return a.x*b.x+a.y*b.y+a.z*b.z};EventMap=function(){};EventMap.prototype.events=[];
EventMap.prototype.callbacks=[];EventMap.prototype.createEvent=function(a,b){var c=this,d=setTimeout(function(){c.removeEvent(d);a()},b);this.events.push(d);this.callbacks.push(a);return this.events.length-1};EventMap.prototype.restartEvent=function(a,b){var c=this.events.indexOf(a);if(0<=c){clearTimeout(this.events[c]);var d=this;this.events[c]=setTimeout(function(){d.removeEvent(guid);d.callbacks[c]()},b)}};
EventMap.prototype.removeEvent=function(a){a=this.events.indexOf(a);0<=a&&clearTimeout(this.events[a]);this.events.removeByIndex(a);this.callbacks.removeByIndex(a)};EventMap.prototype.removeAllEvents=function(){this.events.forEach(function(a,b,c){clearTimeout(a)});this.events=[];this.callbacks=[]};_=function(a){return a instanceof Reference?a.value:new Reference(a)};Reference=function(a){this._=this.value=a};
ifNotDefined=function(a){if(a&&!(0>=a.length)){a=a.split(".");for(var b=this,c=0,d=a.length;c<d;c++)void 0==b[a[c]]&&(b[a[c]]=function(){}),b=b[a[c]];return b}};Function.prototype.inherits=function(a){this.prototype="function"==typeof a?new a:a;this.prototype.constructor=this};var RGB=function(a,b,c){this.set(a,b,c)};RGB.prototype.set=function(a,b,c){0<=a&&256>a&&0<=b&&256>b&&0<=c&&256>c&&(this.red=a,this.green=b,this.blue=c,this.hex=(65536*a+256*b+c).toString(16).toUpperCase())};
var RGBA=function(a,b,c,d){this.set(a,b,c);this.alpha=d};RGBA.inherits(RGB);Math.randomRange=function(a,b){return Math.floor(Math.random()*(b-a))+a};
(function(a,b,c,d,l,n,p,h,u){function B(a){var b,c=a.length,g=this,e=0,t=g.b=g.c=0,q=g.a=[];for(c||(a=[c++]);e<d;)q[e]=e++;for(e=0;e<d;e++)q[e]=q[t=k&t+a[e%c]+(b=q[e])],q[t]=b;(g.d=function(a){for(var b,c=0,r=g.b,e=g.c,f=g.a;a--;)b=f[r=k&r+1],c=c*d+f[k&(f[r]=f[e=k&e+b])+(f[e]=b)];g.b=r;g.c=e;return c})(d)}function x(a,b){b.b=a.b;b.c=a.c;b.a=a.a.slice();return b}function y(a,b){var c=[],d=typeof a,e;if(b&&"object"==d)for(e in a)try{c.push(y(a[e],b-1))}catch(t){}return c.length?c:"string"==d?a:a+"\x00"}
function v(a,b){for(var c=a+"",d,e=0;e<c.length;)b[k&e]=k&(d^=19*b[k&e])+c.charCodeAt(e++);return m(b)}function C(){var c;try{if(w)return m(w.i(d));a.crypto.getRandomValues(c=new Uint8Array(d));return m(c)}catch(f){return[+new Date,a,(c=a.navigator)&&c.plugins,a.screen,m(b)]}}function m(a){return String.fromCharCode.apply(0,a)}var D=c.pow(d,l),z=c.pow(2,n),E=2*z,k=d-1,w,A=c["seed"+u]=function(a,f,h){var g=[];f=1==f?{e:!0}:f||{};a=v(y(f.e?[a,m(b)]:null==a?C():a,3),g);var e=new B(g);v(m(e.a),b);return(f.h||
h||function(a,b,d,f){f&&(f.a&&x(f,e),a.state=function(){return x(e,{})});return d?(c[u]=a,b):a})(function(){for(var a=e.d(l),b=D,c=0;a<z;)a=(a+c)*d,b*=d,c=e.d(1);for(;a>=E;)a/=2,b/=2,c>>>=1;return(a+c)/b},a,"global"in f?f.global:this==c,f.state)};v(c[u](),b);if(p&&p.f){p.f=A;try{w=require("crypto")}catch(F){}}else h&&h.g&&h(function(){return A})})(this,[],Math,256,6,52,"object"==typeof module&&module,"function"==typeof define&&define,"random");
Timer=function(a,b,c){function d(){if(!(l.times&&p++>=l.times)){h=(new Date).getTime();var b=h-last-n;0>b&&(b=0);last=h;a(b/n+1)||setTimeout(d,n-b)}}var l=this;l.times=c;var n=1E3/b,p=0,h=0;setTimeout(function(){last=(new Date).getTime();d()},0)};Timer.prototype.close=function(){this.times=!0};"undefined"!=typeof document&&(document.host=document.URL.split("/")[2].split(":")[0]);

(function(){var level,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};console.log("------------------------------------\n--      ClipJump   v.'1.0.0'      --\n------------------------------------\n-- Copyright © 2014~2015 Clipjump --\n--   Copyright © 2014~2015 Muit   --\n--     (miguel_3c@hotmail.com)    --\n------------------------------------\n"),window.CJ||(window.CJ={}),CJ.Game=function(){function Game(){CJ.instance=this,this.canvas=document.getElementById("canvas"),this.application=new pc.fw.Application(this.canvas),this.onload()}var application;return application={},Game.prototype.onload=function(){var angle;return this.application.start(),this.application.setCanvasFillMode(pc.fw.FillMode.FILL_WINDOW),this.application.setCanvasResolution(pc.fw.ResolutionMode.AUTO),this.cube=new CJ.Cube,this.camera=new pc.fw.Entity,this.application.context.systems.camera.addComponent(this.camera,{clearColor:new pc.Color(.4,.45,.5)}),this.application.context.root.addChild(this.camera),this.camera.translate(0,0,10),this.camera.lookAt(0,0,0),angle=0,this.application.on("update",function(_this){return function(dt){return angle+=dt,angle>360&&(angle=0),void 0!==window.light&&light.entity.setLocalPosition(3*Math.sin(angle),0,3*Math.cos(angle)),_this.cube.entity.setEulerAngles(2*angle,4*angle,8*angle)}}(this))},Game.prototype.onunload=function(){},Game.prototype.error=function(message){throw new Error(message)},Game}(),CJ.Level=function(){function Level(id){this.id=id}return Level.levels={},Level.add=function(level){return this.levels[level.id]=level},Level}(),CJ.Map=function(){function Map(){}return Map.prototype.load=function(level){this.level=level},Map}(),CJ.Unit=function(){function Unit(){this.entity=new pc.fw.Entity}var entity;return entity={},Unit.app=void 0,Unit.prototype.addContext=function(){return CJ.instance.application.context.root.addChild(this.entity)},Unit.prototype.translate=function(x,y,z){return this.entity.translate(x,y,z)},Unit}(),CJ.Cube=function(_super){function Cube(){Cube.__super__.constructor.apply(this,arguments)}return __extends(Cube,_super),Cube}(CJ.Unit),CJ.Cube=function(_super){function Cube(){Cube.__super__.constructor.apply(this,arguments)}return __extends(Cube,_super),Cube}(CJ.Unit),CJ.Cube=function(_super){function Cube(){Cube.__super__.constructor.apply(this,arguments),CJ.instance.application.context.systems.model.addComponent(this.entity,{type:"box"}),this.addContext()}return __extends(Cube,_super),Cube.prototype.setColor=function(){},Cube}(CJ.Unit),CJ.Light=function(_super){function Light(opts){if(Light.__super__.constructor.apply(this,arguments),!opts)throw new Error("Light options must be provided.");opts.color=opts.color||new pc.Color(1,0,0),opts.type=opts.type||"point",opts.radius=opts.radius||10,CJ.instance.application.context.systems.light.addComponent(this.entity,opts),this.addContext()}return __extends(Light,_super),Light.prototype.setColor=function(){},Light}(CJ.Unit),level=new CJ.Level(0),CJ.Level.add(level)}).call(this);